# 解耦与依赖的关系

<!--
create time: 2018-07-31 15:48:53
Author: <黄东鸿>
-->

## 问题：编程思想里面，何谓解耦？

解耦即增加正交性，通俗的讲就是减少模块间的互相干扰，让各个模块的修改变化尽可能小的影响其它模块。

完全不耦合是不可能的，完全不耦合的程序不可能进行数据和指令的传递与交换。

解耦的基本方法是面向接口进行开发，也就是说各个模块只和接口发生耦合，要么调用接口要么实现接口，因此接口本身的设计是程序模块化的重中之重，大型程序中接口设计的优劣常常直接决定整个系统的优劣。

一个常见且基本的例子是图形处理。在正交的程序中，当你得到一个shape对象，可以通过该对象的draw方法直接把它画出来，而不必关心它实际上是一个 circle，rectangle，还是triangle。而在一个非正交的程序中，你必须分别知道它们的圆心位置和半径，长和宽，各顶点位置等信息再进行具体的绘制。简单说，前一种情况只依赖了draw方法，而后一种情况需要依赖各个图形的具体参数。而且此时你只能在一个程序中使用这些图形，不能用于别的程序中！

> 作者：浮生若茶
> 链接：https://www.zhihu.com/question/20821697/answer/27430653
> 来源：知乎
> 著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。

-----

就是每个部分独立变化。举个简单的例子，画一个三角形和画一个文字，在DX和OpenGL下面用的是截然不同的方法（不仅仅是函数名不一样）。但是你哪一天你发现，你爱用DX还是OpenGL，丝毫不影响你如何画三角形还是文字，爱画什么画什么，那么你画的东西跟你画的手段就解耦了。这个解耦的方法就是在中间插入一层interface。

孔子曰，软件的所有问题都可以通过增加一层interface来解决。你的团队越大，需求变化越快，你越要保证程序员之间的依赖关系越少，你的软件解耦的就越好，interface就越多，关系就越复杂（跟乱不一样），应付变化就越容易，钱赚的就越多，越稳定。

> 作者：vczh
> 链接：https://www.zhihu.com/question/20821697/answer/27422839
> 来源：知乎
> 著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。

----

将存在的依赖去掉，比如类A的一个函数需要类B的一个函数返回值，那么A就是依赖B，那么B改动时A很有可能功能受影响，那么不如在中间加另一个类C，使C成为A和B的桥梁，于是A对B的依赖就消失了，B在改动时也不影响A，而想要影响时，改动C就行了，这就是解耦。


#### 知乎答案

[代码耦合是怎么回事呢？](https://www.zhihu.com/question/21386172)

[软件系统解耦：理解依赖关系](https://zhuanlan.zhihu.com/p/31391535)